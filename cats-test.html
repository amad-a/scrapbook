<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://unpkg.com/@neodrag/vanilla@latest/dist/umd/index.js"></script>
    <title>titty</title>
  </head>

  <body>
    <style>
      @page {
        .resize-handle {
          display: none;
        }
      }

      .resize-handle {
        position: absolute;
        bottom: 0;
        right: 0;
        width: 0px;
        height: 0px;
        /* background-color: lightgray; */
        cursor: se-resize;
        opacity: 0;
        /* Indicates resizability */
      }

      ::-webkit-resizer {

        background: none;
 


      }

      .text-drag {
      }

      .drag {
        text-align: justify;
        position: absolute;
        resize: both;
        position: absolute;
        overflow: auto;
        width: 100px;
      }

      .drag:hover {
        cursor: grab;
      }

      img {
        -webkit-user-drag: none;
        -khtml-user-drag: none;
        -moz-user-drag: none;
        -o-user-drag: none;
        /* pointer-events: none; */
        width: 100%;

        /* Also prevents right-click */
      }
    </style>
    <div>
      
      <div class="drag">
        <img
          class="handle"
          src="public/images/cats-test/billi-churu.jpg"
        />
        <div class="resize-handle"></div>
      </div>

      
      <div class="drag">
        <img
          class="handle"
          src="public/images/cats-test/bunny-karachi.jpg"
        />
        <div class="resize-handle"></div>
      </div>

      
      <div class="drag">
        <img
          class="handle"
          src="public/images/cats-test/choop-the-original.jpg"
        />
        <div class="resize-handle"></div>
      </div>

      
      <div class="drag">
        <img
          class="handle"
          src="public/images/cats-test/cozy-cleo.jpg"
        />
        <div class="resize-handle"></div>
      </div>

      
      <div class="drag">
        <img
          class="handle"
          src="public/images/cats-test/hes-all-in.jpg"
        />
        <div class="resize-handle"></div>
      </div>

      
      <div class="drag">
        <img
          class="handle"
          src="public/images/cats-test/joey-roof-cat.jpg"
        />
        <div class="resize-handle"></div>
      </div>

      
      <div class="drag">
        <img
          class="handle"
          src="public/images/cats-test/jumma-rufus.jpg"
        />
        <div class="resize-handle"></div>
      </div>

      
      <div class="drag">
        <img
          class="handle"
          src="public/images/cats-test/laika.jpg"
        />
        <div class="resize-handle"></div>
      </div>

      
      <div class="drag">
        <img
          class="handle"
          src="public/images/cats-test/lala.jpg"
        />
        <div class="resize-handle"></div>
      </div>

      
      <div class="drag">
        <img
          class="handle"
          src="public/images/cats-test/layla-discovery.jpg"
        />
        <div class="resize-handle"></div>
      </div>

      
      <div class="drag">
        <img
          class="handle"
          src="public/images/cats-test/lulu-ridgewood.jpg"
        />
        <div class="resize-handle"></div>
      </div>

      
      <div class="drag">
        <img
          class="handle"
          src="public/images/cats-test/mr-mustache-zooted.jpg"
        />
        <div class="resize-handle"></div>
      </div>

      
      <div class="drag">
        <img
          class="handle"
          src="public/images/cats-test/ridgewood-tabby.jpg"
        />
        <div class="resize-handle"></div>
      </div>

      
      <div class="drag">
        <img
          class="handle"
          src="public/images/cats-test/sultry-sultan.jpg"
        />
        <div class="resize-handle"></div>
      </div>

      
      <div class="drag">
        <img
          class="handle"
          src="public/images/cats-test/the-myrtle-wyckoff-chonker.jpg"
        />
        <div class="resize-handle"></div>
      </div>

      
      <div class="drag">
        <img
          class="handle"
          src="public/images/cats-test/tiga-flatbush-rip.jpg"
        />
        <div class="resize-handle"></div>
      </div>

      
      <div class="drag">
        <img
          class="handle"
          src="public/images/cats-test/tony-catsitting.jpg"
        />
        <div class="resize-handle"></div>
      </div>

       
      <div class="drag text-drag">
        <div class="handle"><div>Lorem ipsum dolor sit amet consectetur adipisicing elit. Debitis impedit optio ipsa molestiae, neque vel, velit, itaque ullam nesciunt esse error perspiciatis delectus magni veritatis rerum! Eaque, omnis ipsam! Eaque!</div></div>
        <div class="resize-handle"></div>
      </div>
      
      <div class="drag text-drag">
        <div class="handle"><div><a href="https://google.com">google this!</a></div></div>
        <div class="resize-handle"></div>
      </div>
      
    </div>

    <script>
      document.addEventListener("keydown", (e) => {
        // Check for Ctrl+S (Windows/Linux) or Cmd+S (Mac)
        if ((e.ctrlKey || e.metaKey) && e.key === "s") {
          e.preventDefault(); // Prevent browser's default save dialog

          // cmd/ctrl s to local storage
          console.log("Save triggered!");
        }
      });

      let lastDragged;
      let zIndex = 1000000;
      let lowestZindex = 1000000;

      let draggableDivs = document.querySelectorAll(".drag");

      draggableDivs.forEach((element, i) => {
        element.style.zIndex = zIndex;
        element.addEventListener("mousedown", (event) => {
          console.log("t");

          if (!(element === lastDragged)) {
            zIndex++;
            lowestZindex--;
          }

          element.style.zIndex = zIndex;
          lastDragged = element;
        });
        new NeoDrag.Draggable(element, {
          legacyTranslate: true,
          gpuAcceleration: false,
          handle: ".handle",
          // bounds: 'parent',
        });
      });

      let resizeDivs = document.querySelectorAll(".resize-handle");

      resizeDivs.forEach((element, i) => {
        element.addEventListener("mousedown", (event) => {
          event.stopPropagation();
        });
      });
    </script>
  </body>
</html>
